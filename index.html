<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />  
    <title>Formation</title>

    <link href="https://fonts.googleapis.com/css2?family=Nunito+Sans:ital@1&display=swap" rel="stylesheet" />

    <link rel="stylesheet" href="assets/bootstrap.min.css" type="text/css" />

    <link rel="stylesheet" href="assets/custom.css" type="text/css" />

    <link rel="stylesheet" href="assets/bootstrap-persija.min.css" type="text/css" />
    <script src="assets/jquery-3.5.1.min.js" type="text/javascript"></script>
    <script src="assets/bootstrap.min.js" type="text/javascript"></script>
</head>
<body>
    <div class="jumbotron jumbotron-fluid bg-primary text-white  d-flex justify-content-center">
        <div class="container">
            <h1 class="display-3">Proof of Concept - Modul Formasi Sepak Bola</h1>
            <p class="lead">
                Demo ini berisi modul penyusunan formasi permainan sepak bola. 
                #JackmaniaMantap
            </p>
        </div>
    </div>

    <div class="container-fluid overflow-auto">
        <div class="row">
            <div class="col-12 col-md-4">
                <h3 class="display-4">Daftar Pemain</h3>

                <div id="player-slot" class="container">

                </div>
            </div>
    
            <div class="col-12 col-md-4">
                <h3 class="display-4">Formasi</h3>

                <div class="row">
                    <select id="formation-select" class="custom-select"></select>
                </div>

                <br />

                <div id="formation" class="row d-flex justify-content-center">
                    
                    <img class="img-fluid w-100" src="assets/img/Soccer_Field_Transparant.jpg" />
                </div>
            </div>

            <div class="col-12 col-md-4">
                <h3 class="display-4">Substitusi</h3>

                <div class="container">
                </div>
            </div>
        </div>
    </div>

    <script src="assets/custom/dto/player.js"></script>
    <script src="assets/custom/dto/position.js"></script>
    <script src="assets/custom/dto/formation.js"></script>

    <script type="text/javascript">    
        player.forEach(function(e, v){
            var position = positions.filter((x) => { return x.id == e.position });

            htmlString = '<div draggable="true" ondragstart="drag(event)" class="list-group-item list-group-item-dark d-flex justify-content-between mt-2">'+
                '<span class="font-weight-bold">'+e.name+'</span>'+
                '<div><span class="font-weight-bold">'+e.backNumber+' &nbsp;</span>'+
                '<span class="badge badge-'+position[0].badge+'"> '+position[0].positionName+' </span></div></div>';

            document.getElementById('player-slot').innerHTML += htmlString;
        });    

        function drag(ev) {
            ev.dataTransfer.setData("text", ev.target.id);
        }

        let formationSelect = document.getElementById('formation-select');

        formations.forEach(function(e, v){
            htmlString = '<option value="'+ e.name +'">'+ e.name +'</option>';
            formationSelect.innerHTML += htmlString;
        });
        

    </script>
</body>
</html>